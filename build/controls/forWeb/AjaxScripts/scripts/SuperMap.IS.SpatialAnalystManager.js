//================================================================================ 
// SuperMap IS .NET 客户端程序，版权所有，北京超图软件股份有限公司，2000-2008。 
// 本程序只能在有效的授权许可下使用。未经许可，不得以任何手段擅自使用或传播。 
// 作 者:  SuperMap IS Web Team 
// 版 本:  $Id: SuperMap.IS.SpatialAnalystManager.js,v 1.54 2010/12/30 07:02:13 hubq Exp $
// 文 件:  SuperMap.IS.SpatialAnalystManager.js 
// 描 述:  AjaxScripts 空间分析功能 
// 更 新:  $Date: 2010/12/30 07:02:13 $ 
//================================================================================ 
SuperMap.IS.SpatialAnalystManager=function(M,AE,Y,t,B){var m=M+"path.ashx";var AA=null;var U=null;var G=-1;var AI="";var o=new Array();var N=new Array();var T=true;if(B!=null){T=B}if(Y!=null){G=Y}if(t!=null){AI=t}function v(AP,AO){AA=AP;U=AO}this.RegisterHandler=v;function u(AR,AW,AO,AT,AV,AU,AQ,AS){var AP=new SuperMap.IS.RequestManager(AV,AU,AQ,AS);AP.AddQueryString("map",AR);AP.AddQueryString("method",AW);AP.AddQueryStrings(AO,AT);AP.Send();AP.Destroy();AP=null;while(AO.length>0){AO.pop();AT.pop()}AO=null;AT=null}function z(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AV=eval("("+AX+")");var AW=new SuperMap.IS.RouteResult();AW.FromJSON(AV);A(AW.trackingLayerIndex,AW.userID,true);if(AR){AR(AW,AT)}if(AV&&AV.nodePositions){while(AV.nodePositions.length>0){AV.nodePositions.pop()}}AV=null;AW.Destroy();AW=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.FindPathByPoints=function(AO,AR,AQ,AP,AS){if(AO!=null){z("FindPathByPoints",["points","routeParam","trackingLayerIndex","userID","keepHighlight"],[AO,AR,G,AI,T],AQ,AP,AS)}};this.FindPathByIds=function(AO,AR,AQ,AP,AS){if(AO!=null){z("FindPathByIds",["ids","routeParam","trackingLayerIndex","userID","keepHighlight"],[AO,AR,G,AI,T],AQ,AP,AS)}};function n(AO,AU,AS,AR,AP,AT){function AQ(AY){if(!AY){if(AR){AR(null,AT)}return }var AV=eval("("+AY+")");if(!AV){AR(null,AT);return }var AW=new Array();for(var AX=0;AX<AV.length;AX++){AW[AX]=new SuperMap.IS.BusSolution();AW[AX].FromJSON(AV[AX])}while(AV[AX]&&AV[AX].length>0){var Ac=AV.pop();if(Ac.routings){while(Ac.routings.length>0){var Ad=Ac.routings.pop();if(Ad.busLines){while(Ad.busLines.length>0){var Ab=Ad.busLines.pop();if(Ab&&Ab.points){while(Ab.points.length>0){Ab.points.pop()}}Ab=null}}if(Ad.upStops){while(Ad.upStops.length>0){var AZ=Ad.upStops.pop();if(AZ.Location){AZ.Location=null}AZ=null}}if(Ad.downStops){while(Ad.downStops.length>0){var AZ=Ad.downStops.pop();if(AZ.Location){AZ.Location=null}AZ=null}}Ad=null}}if(Ac.startStops){while(Ac.startStops.length>0){Ac.startStops.pop()}}if(Ac.endStops){while(Ac.endStops.length>0){Ac.endStops.pop()}}Ac=null}AV=null;if(AR){AR(AW,AT)}if(AW){while(AW.length>0){var Aa=AW.pop();Aa.Destroy();Aa=null}AW=null}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GetBusSolutionByIds=function(AO,AQ,AR,AP,AS){n("GetBusSolutionByIds",["ids","busSolutionParam"],[AO,AQ],AR,AP,AS)};this.GetBusSolutionByNames=function(AR,AP,AQ,AO,AS){n("GetBusSolutionByNames",["names","busSolutionParam"],[AR,AP],AQ,AO,AS)};this.GetBusSolutionByPoints=function(AP,AO,AR,AS,AQ,AT){n("GetBusSolutionByPoints",["points","tolerance","busSolutionParam"],[AP,AO,AR],AS,AQ,AT)};function C(AO,AU,AS,AR,AP,AT){function AQ(AZ){if(!AZ){if(AR){AR(null,AT)}return }var AX=eval("("+AZ+")");if(!AX){if(AR){AR(AX,AT)}return }var AY=new Array();for(var AW=0;AW<AX.length;AW++){AY[AW]=new SuperMap.IS.BusStop();AY[AW].FromJSON(AX[AW])}while(AX.length>0){var AV=AX.pop();if(AV.Location){AV.Location=null}AV=null}AX=null;if(AR){AR(AY,AT)}for(var AW=0;AW<AY.length;AW++){AY.pop().Destroy()}AY=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.FuzzyFindBusStop=function(AQ,AP,AO,AR){C("FuzzyFindBusStop",["fuzzyStopName"],[AQ],AP,AO,AR)};function AN(AO,AU,AS,AR,AP,AT){function AQ(AZ){if(!AZ){if(AR){AR(null,AT)}return }var AY=eval("("+AZ+")");if(!AY){if(AR){AR(AY,AT)}return }var AV=new Array();for(var AX=0;AX<AY.length;AX++){AV[AX]=new SuperMap.IS.BusLine();AV[AX].FromJSON(AY[AX])}while(AY.length>0){var Aa=AY.pop();if(Aa&&Aa.points){while(Aa.points.length>0){Aa.points.pop()}}Aa=null}AY=null;if(AR){AR(AV,AT)}while(AV.length>0){var AW=AV.pop();AW.Destroy();AW=null}AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.FuzzyFindBusLine=function(AR,AP,AO,AQ){AN("FuzzyFindBusLine",["fuzzyBusLineName"],[AR],AP,AO,AQ)};function V(AO,AU,AS,AR,AP,AT){function AQ(AY){if(!AY){if(AR){AR(null,AT)}return }var AX=eval("("+AY+")");if(!AX){if(AR){AR(AX,AT)}return }var AV=new Array();if(AX){for(var AW=0;AW<AX.length;AW++){AV[AW]=new SuperMap.IS.BusLine();AV[AW].FromJSON(AX[AW])}}while(AX.length>0){var AZ=AX.pop();if(AZ&&AZ.points){while(AZ.points.length>0){AZ.points.pop()}}AZ=null}AX=null;if(AR){AR(AV,AT)}for(var AW=0;AW<AV.length;AW++){AV.pop().Destroy()}AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GetBusLinesByStopID=function(AQ,AP,AO,AR){V("GetBusLinesByStopID",["interchangeID"],[AQ],AP,AO,AR)};this.GetBusLinesByStopName=function(AO,AQ,AP,AR){V("GetBusLinesByStopName",["stopName"],[AO],AQ,AP,AR)};function r(AO,AU,AS,AR,AP,AT){function AQ(AZ){if(!AZ){if(AR){AR(null,AT)}return }var AX=eval("("+AZ+")");if(!AX){if(AR){AR(AX,AT)}return }var AY=new Array();for(var AW=0;AW<AX.length;AW++){AY[AW]=new SuperMap.IS.BusStop();AY[AW].FromJSON(AX[AW])}while(AX.length>0){var AV=AX.pop();if(AV.Location){AV.Location=null}AV=null}if(AR){AR(AY,AT)}for(var AW=0;AW<AY.length;AW++){AY.pop().Destroy()}AY=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GetFollowingStops=function(AO,AQ,AR,AP,AS){r("GetFollowingStops",["busLineID","bForward"],[AO,AQ],AR,AP,AS)};function F(AO,AU,AS,AR,AP,AT){function AQ(AW){if(!AW){if(AR){AR(null,AT)}return }var AX=eval("("+AW+")");var AV=new SuperMap.IS.ResultSet();AV.FromJSON(AX);A(AV.trackingLayerIndex,AV.userID,true);if(AR){AR(AV,AT);AV.Destroy();AV=null}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.BufferQuery=function(AQ,AO,AR,AP,AS){F("BufferQuery",["bufferParam","queryParam","trackingLayerIndex","userID","keepHighlight"],[AQ,AO,G,AI,T],AR,AP,AS)};function AG(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AV=eval("("+AX+")");var AW=new SuperMap.IS.BufferQueryResult();AW.FromJSON(AV);if(AW&&AW.resultSet){A(AW.resultSet.trackingLayerIndex,AW.resultSet.userID,true)}if(AR){AR(AW,AT);AW.Destroy();AW=null}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.BufferQueryByGeometries=function(AP,AO,AR,AQ,AS){AG("BufferQueryByGeometries",["geometries","bufferQueryParam","trackingLayerIndex","userID","keepHighlight"],[AP,AO,G,AI,T],AR,AQ,AS)};this.BufferQueryByLayer=function(AP,AO,AR,AQ,AS){AG("BufferQueryByLayer",["layer","bufferQueryParam","trackingLayerIndex","userID","keepHighlight"],[AP,AO,G,AI,T],AR,AQ,AS)};function h(AO,AU,AS,AR,AP,AT){function AQ(AX){var AV=eval("("+AX+")");if(AV==null){AR(null,AT);return }var AW=new SuperMap.IS.ProximityResult();AW.FromJSON(AV);A(AW.trackingLayerIndex,AW.userID,true);if(AR){AR(AW,AT);AW.Destroy();AW=null}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.ClosestFacility=function(AO,AQ,AR,AP,AS){h("ClosestFacility",["point","proximityParam","trackingLayerIndex","userID","keepHighlight"],[AO,AQ,G,AI,T],AR,AP,AS)};function AL(AO,AU,AS,AR,AP,AT){function AQ(AW){if(!AW){if(AR){AR(null,AT)}return }var AV=eval("("+AW+")");if(!AV){if(AR){AR(null,AT)}return }A(AV.trackingLayerIndex,AI,false);I("onviewboundschanged",AV.viewBounds);if(AR){AR(AV.viewBounds,AT)}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.ShowBusStop=function(AS,AO,AQ,AP,AR){AL("AddBusStopToTrackingLayer",["id","style","trackingLayerIndex","userID","keepHighlight"],[AS,AO,G,AI,T],AQ,AP,AR)};this.ShowBusLine=function(AS,AO,AQ,AP,AR){AL("AddBusLineToTrackingLayer",["id","style","trackingLayerIndex","userID","keepHighlight"],[AS,AO,G,AI,T],AQ,AP,AR)};this.ShowRouting=function(AS,AP,AO,AR,AQ,AT){AL("AddRoutingToTrackingLayer",["busRouting","stopStyle","lineStyle","trackingLayerIndex","userID","keepHighlight"],[AS,AP,AO,G,AI,T],AR,AQ,AT)};function j(AO,AU,AS,AR,AP,AT){function AQ(AV){if(!AV){if(AR){AR(null,AT)}return }var AW=eval("("+AV+")");if(AR){AR(AW,AT)}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.UpdateBusLinePriority=function(AQ,AO,AR,AP,AS){j("UpdateBusLinePriority",["busLineSmID","priority"],[AQ,AO],AR,AP,AS)};this.UpdateBusLinesPriority=function(AP,AO,AR,AQ,AS){j("UpdateBusLinesPriority",["busLineSmIDs","priority"],[AP,AO],AR,AQ,AS)};function Z(AO,AU,AS,AR,AP,AT){function AQ(AW){if(!AW){if(AR){AR(null,AT)}return }var AV=eval("("+AW+")");if(!AV){AR(null,AT);return }var AX=new SuperMap.IS.OverlayResult();AX.FromJSON(AV);if(AR){AR(AX,AT)}AX.Destroy();AX=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.OverlayAnalyst=function(AP,AQ,AO,AR){Z("OverlayAnalyst",["overlayParam"],[AP],AQ,AO,AR)};function f(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.InterpolateResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.Interpolate=function(AQ,AP,AO,AR){f("Interpolate",["interpolateParam"],[AQ],AP,AO,AR)};function X(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.GeneralizeResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.Aggregate=function(AR,AP,AO,AQ){X("Aggregate",["aggregateParam"],[AR],AP,AO,AQ)};this.Reclass=function(AO,AQ,AP,AR){X("Reclass",["reclassParam"],[AO],AQ,AP,AR)};this.Replace=function(AO,AQ,AP,AR){X("Replace",["replaceParam"],[AO],AQ,AP,AR)};this.Resample=function(AO,AQ,AP,AR){X("Resample",["resampleParam"],[AO],AQ,AP,AR)};function AF(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.IsoLineResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.IsoLineByGridDataset=function(AO,AR,AQ,AP,AS){AF("IsoLineByGridDataset",["gridDataset","isoLineParam"],[AO,AR],AQ,AP,AS)};this.IsoLineByPointDataset=function(AP,AO,AU,AR,AT,AS,AQ,AV){AF("IsoLineByPointDataset",["pointDataset","pointValueField","interpolateType","gridResolution","isoLineParam"],[AP,AO,AU,AR,AT],AS,AQ,AV)};this.IsoLineByPointPositions=function(AO,AT,AU,AQ,AS,AR,AP,AV){AF("IsoLineByPointPositions",["pointPositions","pointValues","interpolateType","gridResolution","isoLineParam"],[AO,AT,AU,AQ,AS],AR,AP,AV)};function W(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.GridClipResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GridClip=function(AO,AQ,AP,AR){W("GridClip",["gridClipParam"],[AO],AQ,AP,AR)};function x(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.IsoRegionResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.IsoRegion=function(AQ,AP,AO,AR){x("IsoRegion",["isoRegionParam"],[AQ],AP,AO,AR)};this.IsoRegionByPointDataset=function(AP,AO,AS,AT,AR,AQ,AU){x("IsoRegionByPointDataset",["pointDataset","pointValueField","interpolateParam","isoRegionParam"],[AP,AO,AS,AT],AR,AQ,AU)};this.IsoRegionByPointPositions=function(AO,AS,AR,AT,AQ,AP,AU){x("IsoRegionByPointPositions",["pointPositions","pointValues","interpolateParam","isoRegionParam"],[AO,AS,AR,AT],AQ,AP,AU)};function s(AO,AU,AS,AR,AP,AT){function AQ(AW){if(!AW){if(AR){AR(null,AT)}return }var AV=eval("("+AW+")");if(AR){AR(AV,AT)}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GetGridValue=function(AP,AO,AR,AQ,AS){s("GetGridValue",["layerName","position"],[AP,AO],AR,AQ,AS)};this.GetGridPixelValue=function(AP,AO,AR,AQ,AS){s("GetGridPixelValue",["layerName","position"],[AP,AO],AR,AQ,AS)};this.SetGridValue=function(AP,AO,AR,AS,AQ,AT){s("SetGridValue",["layerName","position","value"],[AP,AO,AR],AS,AQ,AT)};this.SetGridPixelValue=function(AP,AO,AR,AS,AQ,AT){s("SetGridPixelValue",["layerName","position","value"],[AP,AO,AR],AS,AQ,AT)};function g(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.FloodResult();AV.FromJSON(AW);A(AV.trackingLayerIndex,AV.userID,true);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.Flood=function(AO,AQ,AP,AR){g("Flood",["floodParam","trackingLayerIndex","userID","keepHighlight"],[AO,G,AI,T],AQ,AP,AR)};function Q(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.CutFillResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.CutFill=function(AP,AQ,AO,AR){Q("CutFill",["cutFillParam"],[AP],AQ,AO,AR)};function P(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.CalculateViewShedResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.CalculateViewShed=function(AO,AQ,AP,AR){P("CalculateViewShed",["calculateViewShedParam"],[AO],AQ,AP,AR)};function q(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.AspectResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.Aspect=function(AR,AP,AO,AQ){q("Aspect",["aspectParam"],[AR],AP,AO,AQ)};function L(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.SlopeResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.Slope=function(AO,AQ,AP,AR){L("Slope",["slopeParam"],[AO],AQ,AP,AR)};function d(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.SurfaceAreaResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.SurfaceArea=function(AO,AQ,AP,AR){d("SurfaceArea",["surfaceAreaParam"],[AO],AQ,AP,AR)};function c(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.SurfaceLengthResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.SurfaceLength=function(AO,AQ,AP,AR){c("SurfaceLength",["surfaceLengthParam"],[AO],AQ,AP,AR)};function l(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.GridCompareResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GridCompare=function(AQ,AP,AO,AR){l("GridCompare",["gridCompareParam"],[AQ],AP,AO,AR)};function y(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.NeighbourStatisticsResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.NeighbourStatistics=function(AO,AQ,AP,AR){y("NeighbourStatistics",["neighbourStatisticsParam"],[AO],AQ,AP,AR)};function AJ(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.OverlayStatisticsResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.OverlayStatistics=function(AO,AQ,AP,AR){AJ("OverlayStatistics",["overlayStatisticsParam"],[AO],AQ,AP,AR)};function AK(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.GridExecuteResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GridExecute=function(AO,AQ,AP,AR){AK("GridExecute",["gridExecuteParam"],[AO],AQ,AP,AR)};function p(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.IsVisibleResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.IsVisible=function(AP,AQ,AO,AR){p("IsVisible",["isVisibleParam"],[AP],AQ,AO,AR)};function b(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.SurfaceProfileResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.SurfaceProfile=function(AP,AQ,AO,AR){b("SurfaceProfile",["surfaceProfileParam"],[AP],AQ,AO,AR)};function D(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.BasinResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.Basin=function(AQ,AP,AO,AR){D("Basin",["basinParam"],[AQ],AP,AO,AR)};function k(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.WaterShedResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.WaterShed=function(AO,AQ,AP,AR){k("WaterShed",["waterShedParam"],[AO],AQ,AP,AR)};function E(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.FillSinkResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.FillSink=function(AQ,AP,AO,AR){E("FillSink",["fillSinkParam"],[AQ],AP,AO,AR)};function J(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.FlowDirectionResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.FlowDirection=function(AO,AQ,AP,AR){J("FlowDirection",["flowDirectionParam"],[AO],AQ,AP,AR)};function AD(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.FlowAccumulationResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.FlowAccumulation=function(AO,AQ,AP,AR){AD("FlowAccumulation",["flowAccumulationParam"],[AO],AQ,AP,AR)};function K(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(!AW){AR(null,AT);return }var AV=new SuperMap.IS.RasterToVectorResult();AV.FromJSON(AW);if(AR){AR(AV,AT)}AV.Destroy();AV=null}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.RasterToVector=function(AO,AQ,AP,AR){K("RasterToVector",["rasterToVectorParam"],[AO],AQ,AP,AR)};function AH(AO,AU,AS,AR,AP,AT){function AQ(AW){if(!AW){if(AR){AR(null,AT)}return }var AV=eval("("+AW+")");if(AR){AR(AV,AT)}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.ServiceAreaByPoints=function(AO,AX,AQ,AU,AT,AW,AV,AP,AR,AS){AH("ServiceAreaByPoints",["centerPoints","serviceRanges","isFromSite","notOverlap","resultRouteName","serviceAreaName","networkParams"],[AO,AX,AQ,AU,AT,AW,AV],AP,AR,AS)};this.ServiceAreaByIds=function(AR,AX,AP,AU,AT,AW,AV,AO,AQ,AS){AH("ServiceAreaByIds",["centerIds","serviceRanges","isFromSite","notOverlap","resultRouteName","serviceAreaName","networkParams"],[AR,AX,AP,AU,AT,AW,AV],AO,AQ,AS)};function O(AO,AU,AS,AR,AP,AT){function AQ(AV){if(!AV){if(AR){AR(null,AT)}return }if(AR){AR(AV,AT)}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.GenerateGeometryByEventTable=function(AP,AQ,AO,AR){O("GenerateGeometryByEventTable",["generateGeometryByEventTableParam"],[AP],AQ,AO,AR)};function H(AO,AU,AS,AR,AP,AT){function AQ(AW){if(!AW){if(AR){AR(null,AT)}return }var AV=eval("("+AW+")");if(AR){AR(AV,AT)}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.CoordTransformate=function(AQ,AT,AO,AR,AP,AS){H("CoordTransformate",["coords","sourceCoordSys","targetCoordSys"],[AQ,AT,AO],AR,AP,AS)};function AM(AO,AU,AS,AR,AP,AT){function AQ(AX){if(!AX){if(AR){AR(null,AT)}return }var AW=eval("("+AX+")");if(AW==null){AR(null,AT);return }var AV=new SuperMap.IS.AllocateResult();AV.FromJSON(AW);if(AR){AR(AV,AT);AV.Destroy();AV=null}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.Allocate=function(AO,AQ,AP,AR){AM("Allocate",["allocateParam"],[AO],AQ,AP,AR)};function w(AO,AU,AS,AR,AP,AT){function AQ(AV){if(!AV){if(AR){AR(null,AT)}return }var AW=eval("("+AV+")");if(AW==null){AR(null,AT);return }var AX=new SuperMap.IS.LocationsAllocateResult();AX.FromJSON(AW);if(AR){AR(AX,AT);AX.Destroy();AX=null}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.LocationsAllocate=function(AO,AQ,AP,AR){w("LocationsAllocate",["locationsAllocateParam"],[AO],AQ,U,AR)};function AC(AO,AU,AS,AR,AP,AT){function AQ(AV){if(!AV){if(AR){AR(null,AT)}return }var AW=eval("("+AV+")");if(AW==null){AR(null,AT);return }var AX=new SuperMap.IS.StreamResult();AX.FromJSON(AW);if(AR){AR(AX,AT);AX.Destroy();AX=null}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.UpStream=function(AO,AQ,AP,AR){AC("UpStream",["streamParam"],[AO],AQ,AP,AR)};this.DownStream=function(AO,AQ,AP,AR){AC("DownStream",["streamParam"],[AO],AQ,AP,AR)};function AB(AV,AO,AU,AP,AS,AT){var AW=_GetXmlHttpRequest();AW.open("post",m+"?map="+encodeURI(AE)+"&method="+AV+"&t="+new Date().getTime(),true);AW.setRequestHeader("Content-Type","application/x-www-form-urlencoded");AW.onreadystatechange=function(){var AY=AW.readyState;if(AY==4){var AZ=AW.status;if(AZ==200){if(!AW.responseText){if(AP){AP(null,AT)}return }var AX=eval("("+AW.responseText+")");if(AP){AP(AX,AT)}}else{if(AS){AS(AW.responseText,AT)}}AW.onreadystatechange=function(){};AW=null}};var AQ=null;if(AO&&AO.length>0){var AR=new Array();while(AO&&AO.length>0){AR.push(AO.shift()+"="+_ToJSON(AU.shift()))}AQ=AR.join("&");while(AO.length>0){AO.pop();AU.pop();AR.pop()}AO=null;AU=null;AR=null}AW.send(AQ)}this.SpatialAutocorrelation=function(AO,AR,AQ,AP,AS){AB("SpatialAutocorrelation",["gridName","spatialAutocorrelationMethod"],[AO,AR],AQ,AP,AS)};function a(AO,AU,AS,AR,AP,AT){function AQ(AW){if(!AW){if(AR){AR(null,AT)}return }var AV=eval("("+AW+")");if(AR){AR(AV,AT)}}u(AE,AO,AU,AS,m,AQ,AP,AT)}this.UpdateEdgeWeight=function(AU,AP,AO,AS,AQ,AT,AR,AV){a("UpdateEdgeWeight",["edgeID","fromNodeID","toNodeID","weight","networkParams"],[AU,AP,AO,AS,AQ],AT,AR,AV)};this.UpdateNodeWeight=function(AU,AP,AO,AS,AQ,AT,AR,AV){a("UpdateNodeWeight",["nodeID","fromEdgeID","toEdgeID","weight","networkParams"],[AU,AP,AO,AS,AQ],AT,AR,AV)};function e(AO,AP){G=AO;AI=AP}function A(AO,AP,AQ){if(G!=AO||AI!=AP){G=AO;AI=AP;var AR=new Object();AR.trackingLayerIndex=G;AR.userID=AI;AR.bSaveHistory=AQ;I("onchangetrackinglayer",AR)}}function S(AQ,AR){var AP=o[AQ];if(!AP){AP=new Array();o[AQ]=AP;N.push(AQ)}for(var AO=0;AO<AP.length;AO++){if(AP[AO]==AR){return true}}AP.push(AR)}function i(AQ,AR){var AP=o[AQ];if(!AP){return }for(var AO=0;AO<AP.length;AO++){if(AP[AO]==AR){AP.splice(AO,1)}}}function I(AR,AS,AT){var AQ=o[AR];if(!AQ){return }if(!AS){AS=R()}var AO=AQ.concat();for(var AP=0;AP<AO.length;AP++){if(AO[AP]){AO[AP](AS,AT)}}while(AO.length>0){AO.pop()}}function R(AO,AP){var AQ=new Object();AQ.trackingLayerIndex=G;AQ.userID=AI;if(!AO){AO=""}return new EventArguments(AQ,AO,AP)}this.AttachEvent=S;this.DetachEvent=i;this.ChangeTrackingLayerKey=e}
